<div class="modal-header" style="background-color:#12ae00;">
    <h3 class="modal-title" id="modal-title">
        {{vm.Title}} <span ng-if="vm.row.Order_Id">- {{vm.row.Order_Id}}</span>
        <b class="pull-right" style="background-color:white; min-width:200px; width:240px; text-align:center; margin-right:40%; border-radius:10px;">Tutar : <span style="text-transform:uppercase;">{{vm.totalprice}} TL</span></b>
    </h3>
    <button type="button" class="close" style="margin-top: -24px !important;" ng-click="vm.cancel()"><b style="color:darkred !important;"><span class="fa fa-close"></span></b></button>
</div>
<div class="modal-body" id="modal-body">
    <form name="orderForm" novalidate>
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <h6 class="text-uppercase">Telefon No</h6>
                    <input ng-model="vm.row.PhoneNumber" type="text" maxlength="10" class="form-control" name="PhoneNumber" tabindex="1" placeholder="555 444 33 22" value="" ng-blur="vm.getCustomerData(vm.row.PhoneNumber)" ng-keypress="vm.IsNumber(event)" />
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <h6 class="text-uppercase">Teslim Tarihi</h6>
                    <datepicker date-format="dd-MM-yyyy" date-min-limit="{{vm.minDate}}" selector="form-control">
                        <input ng-model="vm.row.OrderDate" class="form-control" placeholder="Tarih seç" type="text" tabindex="2" style="margin-top: 0px; width:97% !important;" />
                        <span style="cursor: pointer"><i class="fa fa-calendar"></i></span>
                    </datepicker>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <h6 class="text-uppercase">Müşteri Ad/Soyad</h6>
                    <input ng-model="vm.row.CustomerName" type="text" maxlength="25" class="form-control text-uppercase" style="text-transform:uppercase" placeholder="Ad/Soyad" tabindex="3" />
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6" style="padding-bottom: 10px;">
                    <h6 class="text-uppercase"> Borç </h6>
                    <input ng-model="vm.row.Debt" type="text" ng-keypress="vm.IsNumber(event)" maxlength="5" class="form-control text-uppercase" placeholder="0" tabindex="4" />
                </div>
            </div>
        </div>
        <div class="row">
            <uib-tabset active="0" justified="true">
                <uib-tab index="0" heading="Dokunmatik İşlem" ng-click="vm.fastOrder = false;">
                    <div class="col-xs-12" style="margin-top:1%;">
                        <div class="col-xs-6" ng-click="">
                            <div class="d-flex align-content-stretch flex-wrap">
                                <div class="p-xl-1 bg-primary">
                                    <div class="cardHolder">
                                        <div class="align-self-start"><img class="card" src="../../../images/male-icon-7920.png" /></div>
                                        <div class="card">Urun 1 Erkek</div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                    </div>
                                </div>
                                <div class="p-xl-1 bg-danger">
                                    <div class="cardHolder">
                                        <div class="align-self-start"><img class="card" src="../../../images/female.png" /></div>
                                        <div class="card">Urun 1 Kadın</div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-6" ng-click="">
                            <div class="d-flex align-content-stretch flex-wrap">
                                <div class="p-xl-2 bg-primary">
                                    <div class="cardHolder">
                                        <div class="card">Tadilat 1 Erkek</div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                    </div>
                                </div>
                                <div class="p-xl-3 bg-danger">
                                    <div class="cardHolder">
                                        <div class="card">Tadilat 1 Kadın</div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                        <div class="card"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div ng-show="1==0">
                            <div>
                                <div class="">
                                    <input ng-model="vm.row.Price" type="number" class="form-control text-uppercase" style="text-transform:uppercase; margin-left: 30px; margin-top: 1%; font-size:20px; text-align:center; width:88%; float:left;" maxlength="5" ng-keypress="vm.IsNumber(event)" placeholder="TL" />
                                </div>
                            </div>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab index="1" heading="Barkodlu İşlem" ng-click="vm.fastOrder = false;">
                    <div class="col-lg-12">
                        <input ng-model="vm.row.Barcode" ng-change="vm.getBarcode()" type="number" class="form-control text-uppercase" style="text-transform:uppercase; margin-left: 30px; margin-top: 1%; font-size:20px; text-align:center; width:88%; float:left;" maxlength="10" ng-keypress="vm.IsNumber(event)" placeholder="Barkod No" />
                    </div>
                </uib-tab>
                <uib-tab index="2" heading="Hızlı İşlem" ng-click="vm.fastOrder = true;">
                    <div class="col-lg-12">
                        <input ng-model="vm.row.Price" type="number" class="form-control text-uppercase" style="text-transform:uppercase; margin-left: 30px; margin-top: 1%; font-size:20px; text-align:center; width:88%; float:left;" maxlength="5" ng-keypress="vm.IsNumber(event)" placeholder="TL" />
                    </div>
                </uib-tab>
                <uib-tab index="3" heading="Listeli İşlem" ng-click="vm.fastOrder = false;">
                    <div class="col-lg-12">
                        <div class="col-lg-3">
                            <h6 class="text-uppercase"> Ürün Seçiniz</h6>
                            <select ng-model="vm.row.Product_Id" ng-change="vm.getOperations(vm.row.Product_Id)" class="form-control" name="ofilter" title="İşlem Listesi">
                                <option ng-repeat='at in vm.productDataList' value='{{at.Product_Id}}'>{{at.Name}}</option>
                            </select>
                        </div>
                        <div class="col-lg-3">
                            <h6 class="text-uppercase"> Tadilat Seçiniz</h6>
                            <select ng-model="vm.row.Operation_Id" ng-change="vm.getOperationPrice(vm.row.Operation_Id)" class="form-control" name="ofilter" title="İşlem Listesi">
                                <option ng-repeat='at in vm.operationDataList' value='{{at.Operation_Id}}'>{{at.Name}}</option>
                            </select>
                        </div>
                        <div class="col-lg-2">
                            <h6 class="text-uppercase"> Miktar</h6>
                            <input ng-model="vm.row.Quantity" type="text" class="form-control text-uppercase" style="text-transform:uppercase; margin-top: 1%; font-size:20px; text-align:center; width:88%; float:left;" maxlength="5" ng-keypress="vm.IsNumber(event)" />
                        </div>
                        <div class="col-lg-2">
                            <h6 class="text-uppercase"> Tutar</h6>
                            <input ng-model="vm.row.Price" type="text" class="form-control text-uppercase" style="text-transform:uppercase;  margin-top: 1%; font-size:20px; text-align:center; width:88%; float:left;" maxlength="5" ng-keypress="vm.IsNumber(event)" />
                        </div>
                        <div class="col-lg-2">
                            <h6 class="text-uppercase"> Ekle</h6>
                            <button class="btn btn-primary" type="button" ng-click="vm.addOrderDetail(vm.row.Operation_Id,vm.row.Quantity,vm.row.Price)"><span class="fa fa-plus"></span></button>
                        </div>
                    </div>
                    <div class="col-lg-12" style="margin-bottom: 20px;">
                        <table class="table table-dark">
                            <thead>
                                <tr>
                                    <th class="text-uppercase"><b>Sıra</b></th>
                                    <th class="text-uppercase"><b>Tadilat</b></th>
                                    <th class="text-uppercase"><b>Adet</b></th>
                                    <th class="text-uppercase"><b>B.Tutar</b></th>
                                    <th class="text-uppercase"><b>Seç</b></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="item in vm.orderdetailDataList track by $index">
                                    <td><b>{{$index + 1}}.</b></td>
                                    <td>{{item.Operation_Text}}</td>
                                    <td>{{item.Quantity}}</td>
                                    <td>{{item.Price}}</td>
                                    <td><button class="btn btn-danger" type="button" ng-click="vm.removeOrderDetail($index + 1)"><span class="fa fa-minus"></span></button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </uib-tab>
            </uib-tabset>

        </div>

    </form>
</div>
<div class="modal-footer">
    <uib-progressbar class="progress-striped active" value="65" type="warning" style="margin-bottom:0px !important;"><small><em>Sipariş Hazırlanıyor</em></small></uib-progressbar>
    <div class="col-lg-1">
        <b class="text-muted">Teslim: </b>
        <label class="custom-control custom-checkbox">
            <input ng-model="vm.row.IsDelivered" type="checkbox" class="custom-control-input" />
            <span class="custom-control-indicator"></span>
        </label>
    </div>
    <div class="col-lg-1">
        <b class="text-muted">Ödeme: </b>
        <label class="custom-control custom-checkbox">
            <input ng-model="vm.row.IsPaid" type="checkbox" class="custom-control-input" />
            <span class="custom-control-indicator"></span>
        </label>
    </div>
    <div class="col-lg-3">
        <input ng-model="vm.row.Discount" type="text" class="form-control pull-right" name="Debt" value="" placeholder="İndirim [%]" tabindex="5" />
    </div>
    <div class="col-lg-3">
        <input ng-model="vm.row.Addition" type="text" class="form-control pull-left" name="Addition" value="" placeholder="Açıklama" tabindex="5" />

    </div>
    <div class="col-lg-4">
        <button class="btn btn-warning pull-right" type="button" ng-click="vm.cancel()">İptal</button>
        <button class="btn btn-primary pull-right" type="button" ng-click="vm.ok(vm.edit, vm.row)">Kaydet</button>
    </div>
</div>
